import{f as e,p as s,q as a,r as o,s as l,t as r,u as i,v as t,w as d}from"../element-plus/element-plus.86321995.js";import{u as p,a as n}from"../@co/@co.fb4682a1.js";import{e as c,R as m,S as u,T as g,x as f}from"../@element-plus/@element-plus.cddc8f8f.js";import{L as h}from"../live2d-widget/live2d-widget.6d859602.js";import{u as j}from"../vue-router/vue-router.9473b667.js";import{b as v}from"../index/index.13f9b4e3.js";import{u as b,b as w,s as k,c as x,d as _}from"../../assets/index-61b17357.js";import{m as y}from"../index/index.3f2772c2.js";import{d as z,r as V,a0 as C,k as O,c as E,a as L,X as U,R as F,L as N,u as R,bb as S,b9 as T,o as q,V as D,W as J}from"../@vue/@vue.fe24ed5a.js";import{_ as M}from"../_plugin-vue_export-helper/_plugin-vue_export-helper.1b428a4d.js";import"../lodash-es/lodash-es.9f1a9679.js";import"../@vueuse/@vueuse.9c77a690.js";import"../@popperjs/@popperjs.0e77d79c.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.4d8034fa.js";import"../@babel/@babel.9867481d.js";import"../async-validator/async-validator.163d02db.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.500438c6.js";import"../@floating-ui/@floating-ui.945a406c.js";import"../index/index.ae57d152.js";import"../axios/axios.a44b2fc3.js";import"../@kangc/@kangc.442f513e.js";import"../@vuepress/@vuepress.68ab59a1.js";import"../vue/vue.6569c03c.js";import"../@highlightjs/@highlightjs.fccd0474.js";import"../highlight.js/highlight.js.ff00c245.js";import"../pinia/pinia.9e201ab2.js";import"../pinia-plugin-persist/pinia-plugin-persist.70d140bd.js";import"../mitt/mitt.f0e54764.js";import"../nprogress/nprogress.43b09d2e.js";import"../js-cookie/js-cookie.d59fc71c.js";import"../js-md5/js-md5.5ef53dae.js";const A=e=>(S("data-v-eecbbfd2"),e=e(),T(),e),H={class:"more-setting"},I={class:"el-dropdown-link",style:{color:"#fff"}},K=A((()=>L("i",{class:"cz-icon icon-gerenxinxi"},null,-1))),P=A((()=>L("i",{class:"cz-icon icon-zhucehaoxiafa"},null,-1))),W=A((()=>L("div",{class:"login-logo"},[L("img",{src:"https://s3.bmp.ovh/imgs/2022/12/21/f7cd16f1cb91cec8.png",alt:""})],-1))),X={class:"check-code"},B=A((()=>L("img",{class:"code-img",src:"https://s3.bmp.ovh/imgs/2022/12/23/b36180a1341d1e05.jpg",alt:""},null,-1))),G=z({name:n("login")}),Q=M(z({...G,setup(n){const z=V(!1),S=p("login"),T=b(),M=j(),A=V(),G=C({account:"t123456",password:"123456",rememberChecked:!1,code:"111"}),Q=V({account:[{validator:(e,s,a)=>{""===s?a(new Error("请输入账号")):a()},trigger:"blur"}],password:[{validator:(e,s,a)=>{""===s&&a(new Error("请输入密码")),a()},trigger:"blur"}],code:[{validator:(e,s,a)=>{""===s&&a(new Error("请输入验证码")),a()},trigger:"blur"}]}),Y=()=>{z.value=!0,v({password:y(G.password),account:G.account}).then((async e=>{k(e.token),T.setToken(e.token),(e=>{if(e)return void x(JSON.stringify(G));w()&&_()})(G.rememberChecked),await M.replace("/index")})).finally((()=>{z.value=!1}))},Z=async()=>{await M.push("/register")};return O((()=>{(()=>{const e=w();if(e){const s=JSON.parse(e);return G.account=s.account||"",G.password=s.password||"",G.code=s.code||"",void(G.rememberChecked=s.rememberChecked||!1)}G.account="",G.password="",G.code=""})(),setTimeout((()=>{h.L2Dwidget.init({model:{jsonPath:"https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",scale:1},dialog:{enable:!0,script:{"hover .star":"星星在天上而你在我心里 (*/ω＼*)","tap body":"害羞⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","tap face":"~~"}},display:{position:"right",width:150,height:300,hOffset:0,vOffset:-20},mobile:{show:!0,scale:.5},react:{opacityDefault:.7,opacityOnHover:.2}})}),1e3)})),(p,n)=>{const h=e,j=s,v=a,b=o,w=l,k=r,x=i,_=t,y=d;return q(),E("div",{class:N([R(S).b()])},[L("div",{class:N([R(S).b("plane")])},[L("div",H,[U(b,null,{dropdown:F((()=>[U(v,null,{default:F((()=>[U(j,null,{default:F((()=>[K,D(" 忘记密码 ")])),_:1}),U(j,{onClick:Z},{default:F((()=>[P,D(" 注册账号 ")])),_:1})])),_:1})])),default:F((()=>[L("span",I,[D(" 更多 "),U(h,{color:"#409EFC"},{default:F((()=>[U(R(c))])),_:1})])])),_:1})]),W,L("div",{class:N([R(S).b("form")])},[U(y,{ref_key:"ruleFormRef",ref:A,model:G,"status-icon":"",rules:Q.value,"label-width":"0px"},{default:F((()=>[U(k,{label:"",prop:"account"},{default:F((()=>[U(w,{modelValue:G.account,"onUpdate:modelValue":n[0]||(n[0]=e=>G.account=e),size:"large",autocomplete:"on",clearable:"",placeholder:"请输入账号","prefix-icon":R(m),name:"account"},null,8,["modelValue","prefix-icon"])])),_:1}),U(k,{label:"",prop:"password"},{default:F((()=>[U(w,{modelValue:G.password,"onUpdate:modelValue":n[1]||(n[1]=e=>G.password=e),type:"password",size:"large",clearable:"",autocomplete:"off",placeholder:"请输入密码","prefix-icon":R(u)},null,8,["modelValue","prefix-icon"])])),_:1}),U(k,{label:"",prop:"code"},{default:F((()=>[L("div",X,[U(w,{modelValue:G.code,"onUpdate:modelValue":n[2]||(n[2]=e=>G.code=e),modelModifiers:{number:!0},placeholder:"验证码",size:"large",clearable:""},null,8,["modelValue"]),B])])),_:1}),U(k,null,{default:F((()=>[U(x,{label:"自动登录",size:"large"}),U(x,{modelValue:G.rememberChecked,"onUpdate:modelValue":n[3]||(n[3]=e=>G.rememberChecked=e),label:"记住密码",size:"large"},null,8,["modelValue"])])),_:1}),U(k,null,{default:F((()=>[U(_,{type:"primary",size:"large",icon:R(g),loading:z.value,onClick:n[4]||(n[4]=()=>{var e;(e=A.value)&&e.validate((e=>!!e&&(Y(),!0)))})},{default:F((()=>[D(J(z.value?"正在登录":"立即登录"),1)])),_:1},8,["icon","loading"]),U(_,{size:"large",icon:R(f),onClick:n[5]||(n[5]=e=>{var s;(s=A.value)&&s.resetFields()})},{default:F((()=>[D(" 重置 ")])),_:1},8,["icon"])])),_:1})])),_:1},8,["model","rules"])],2)],2)],2)}}}),[["__scopeId","data-v-eecbbfd2"]]);export{Q as default};
